/* View */
.o-view {
    position: relative;
    width: 100%;
    min-height: 100vh;
    z-index: 3;
    overflow: hidden;
}

.o-view.is-absolute {
    position: absolute;
    top: 0;
    left: 0;
}

/* Sections and Groups */
.o-section {
    position: relative;
    clear: both;
}
.o-section:not(.has-no-gutter), .o-section:not(.is-full-width) { margin: var(--section-margin-height) var(--page-gutter-width); }
.o-section.has-no-gutter, .o-section.is-full-width { margin: var(--section-margin-height) 0; }
.o-section.has-inner-space {
    padding-top: var(--section-margin-height);
    padding-bottom: var(--section-margin-height);
}

.o-group {
    width: 100%;
    margin: var(--section-margin-height) auto;
    position: relative;
    z-index: 2;
}

.o-group:not(.is-full-width) { max-width: var(--page-maxwidth); }
.o-group.is-large:not(.is-full-width) { max-width: var(--page-maxwidth-large); }
.o-group:first-of-type { margin-top: 0; }
.o-group:last-child { margin-bottom: 0; }

/* Inner gutter */
.o-section.has-no-gutter > .o-group.has-inner-gutter,
.o-section.is-full-width > .o-group.has-inner-gutter {
    padding-right: var(--page-gutter-width);
    padding-left: var(--page-gutter-width);
}

.o-section.has-no-gutter > .o-group.has-inner-gutter:not(.is-full-width),
.o-section.is-full-width > .o-group.has-inner-gutter:not(.is-full-width) {
    max-width: calc(var(--page-maxwidth) + 2 * var(--page-gutter-width)) !important;
}

.o-section.has-no-gutter > .o-group.has-inner-gutter.is-large:not(.is-full-width),
.o-section.is-full-width > .o-group.has-inner-gutter.is-large:not(.is-full-width) {
    max-width: calc(var(--page-maxwidth-large) + 2 * var(--page-gutter-width)) !important;
}

/* Layout Modifiers */
.has-no-bottom-space { margin-bottom: 0 !important; }
.has-no-bottom-space:not(.has-inner-space) { padding-bottom: 0 !important; }
.has-no-top-space { margin-top: 0 !important; }
.has-no-top-space:not(.has-inner-space) { padding-top: 0 !important; }

/**
 * iPhone X :: viewport-fit=cover
 * constant(apple) == env(w3c)
 */
@supports(padding: max(0px)) {
    .o-section:not(.has-no-gutter), .o-section:not(.is-full-width) {
        margin-left: max(var(--page-gutter-width), constant(safe-area-inset-left));
        margin-right: max(var(--page-gutter-width), constant(safe-area-inset-right));
    }

    .o-section.has-no-gutter > .o-group.has-inner-gutter,
    .o-section.is-full-width > .o-group.has-inner-gutter {
        padding-left: max(var(--page-gutter-width), constant(safe-area-inset-left));;
        padding-right: max(var(--page-gutter-width), constant(safe-area-inset-right));
    }
}
